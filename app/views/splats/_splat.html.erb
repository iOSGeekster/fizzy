<div class="splat" style="view-transition-name: splat-<%= splat.id -%>; --splat-color: <%= splat.color %>; --splat-rotate: <%= splat_rotation(splat) -%>deg; <%= splat_size(splat) %>">
  <h1 class="splat__title"><%= splat.title %></h1>

  <svg class="splat__svg" viewBox="0 0 990 990" xmlns="http://www.w3.org/2000/svg" transform="rotate(<%= splat_rotation(splat) -%>)"><path d="m0 0h990v990h-990z" fill="none" stroke="none" /><path d="m391.65 879.47c-110.52-15.95-212.21-91.86-255.92-191.23-66.78-143.65-41.62-347.61 48.08-481.17 368.33-516.3 1252.97 520.2 451.03 660.78-44.07 8.84-88.98 13.49-133.01 15.68-36.69 2-73.37 1.91-109.99-4.03z"/></svg>

  <%= link_to splat, class: "splat__link" do %>
    <span class="for-screen-reader"><%= splat.title %></span>
  <% end %>

  <% if splat.image.attached? %>
    <div class="splat__image">
      <%= image_tag splat.image %>
    </div>
  <% end %>

  <time class="splat__bubble splat__meta splat__date"><%= splat.created_at.strftime("%b <br> %d").html_safe %></time>

  <% splat.categories.each do | category | %>
    <%= link_to "##{category.title}", splats_path(category_id: category.id), class: "splat__bubble splat__meta splat__category" %>
  <% end %>

  <% if splat.categories.count < 3 %>
    <span class="splat__bubble splat__meta splat__category">
      <turbo-frame id="new_category">
        <%= link_to "#", new_splat_category_path(splat), class: "splat__category--new" %>
      </turbo-frame>
    </span>
  <% end %>

  <%= tag.div class: "splat__bubble splat__meta splat__boosts",
      data: { controller: "animation toggle-class", animation_play_class: "boosting", toggle_class_toggle_class: "boosting", action: "animationend->toggle-class#toggle" } do %>
    <turbo-frame id="<%= dom_id(splat, "boosts") %>" src="<%= splat_boosts_path(splat) %>" />
  <% end %>
</div>
